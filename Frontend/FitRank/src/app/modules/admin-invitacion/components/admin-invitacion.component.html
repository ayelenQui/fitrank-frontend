<div class="invitacion-background">

 

  <div class="container generar-invitacion p-4 mt-4">
    <h2 id="typing-text" class="text-center mb-4"></h2>

    <form [formGroup]="form"
          (ngSubmit)="generarInvitacion()"
          class="formulario shadow-lg rounded-4 p-4">

      <button type="button" class="btn-volver" (click)="volverAtras()">
        Volver
      </button>

      <h5 class="typing-text seccion-titulo mb-3">Datos Personales</h5>

      <div class="contenedorDatosPersonales row g-3 mb-4">
        <div class="col-md-6 contenerdorLabelInput">
          <label>Nombre</label>
          <input type="text" class="form-control" formControlName="nombre" />
        </div>
        <div class="col-md-6 contenerdorLabelInput">
          <label>Apellidos</label>
          <input type="text" class="form-control" formControlName="apellidos" />
        </div>
        <div class="col-md-6 contenerdorLabelInput">
          <label>DNI</label>
          <input type="number" class="form-control" formControlName="dni" />
        </div>
        <div class="col-md-6 contenerdorLabelInput">
          <label>TelÃ©fono</label>
          <input type="text" class="form-control" formControlName="telefono" />
        </div>
        <div class="col-md-12 contenerdorLabelInput">
          <label>Email</label>
          <input type="email" class="form-control" formControlName="email" />
        </div>
      </div>

      <h5 class="seccion-titulo mb-3">Datos de Pago</h5>

      <div class="contenedorDatosPago row g-3">

        <!-- CAMBIO 1: mÃ©todo de pago -->
        <div class="col-md-4 contenerdorLabelInput">
          <label>MÃ©todo de pago</label>
          <select class="form-select" formControlName="metodoPago">
            <option value="efectivo">Efectivo</option>
            <option value="mercadopago">Mercado Pago</option>
          </select>
        </div>

        <!-- CAMBIO 2: corregido semana â†’ aÃ±o -->
        <div class="col-md-4 contenerdorLabelInput">
          <label>Periodo</label>
          <select class="form-select" formControlName="periodo">
            <option value="mes">Mes</option>
            <option value="anio">AÃ±o</option>
          </select>
        </div>

        <div class="col-md-4 contenerdorLabelInput">
          <label>Monto (ARS)</label>
          <input type="number" class="form-control" formControlName="monto" />
        </div>

      </div>

      <div class="text-center mt-4">
        <button type="submit"
                class="btn btn-violeta btn-generarInvitacion px-5 py-2"
                [disabled]="loading">
          {{ loading ? "Generando..." : "Generar invitaciÃ³n" }}
        </button>
      </div>
    </form>

    <div *ngIf="mensaje" class="alert alert-success mt-3 text-center">
      {{ mensaje }}
    </div>
    <div *ngIf="error" class="alert alert-danger mt-3 text-center">
      {{ error }}
    </div>
    <!-- ðŸ”µ LINK PARA PAGO ONLINE (si lo necesita mÃ¡s tarde) -->
    <div *ngIf="linkPago" class="text-center mt-4">
      <a [href]="linkPago" class="btn btn-violeta px-4 py-2">
        ðŸ’» Pagar online
      </a>
    </div>

    <!-- ðŸŸ£ QR PARA PAGO PRESENCIAL -->
    <div *ngIf="qrImage" class="text-center mt-4">
      <p class="fw-bold mb-2">ðŸ“± EscaneÃ¡ para pagar con Mercado Pago</p>
      <img [src]="qrImage" style="width:260px; border-radius:12px;" />
    </div>

  </div>
</div>
