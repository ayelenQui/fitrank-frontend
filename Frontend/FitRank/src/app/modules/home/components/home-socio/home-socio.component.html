
<div *ngIf="!esProfesor">
  <app-header-socio [user]="user"></app-header-socio>
  <div class="container-fluid min-vh-100 bg-light py-4">
    <!-- ğŸŸ£ HEADER -->
    <!-- <header class="d-flex justify-content-between align-items-center bg-white shadow rounded-4 p-3 mb-5">
      <div class="d-flex align-items-center gap-3">
        <svg width="60" viewBox="0 0 365 338"> ... </svg>
        <h2 class="fw-bold mb-0 text-fitrank">FitRank</h2>
      </div>

      <div class="d-flex align-items-center gap-4">
        <div class="d-flex align-items-center gap-3">
          <div class="text-end me-2">
            <p class="fw-semibold mb-0">{{ user?.Nombre }}</p>
            <small class="text-muted">Mi perfil</small>
          </div>
          <img src="assets/img/avatar-default.png" class="rounded-circle border" width="45" height="45" />
        </div>

        <button class="btn btn-outline-fitrank d-flex align-items-center gap-2" (click)="logout()">
          <span class="material-symbols-outlined">logout</span>
          Cerrar sesiÃ³n
        </button>
      </div>
    </header> -->
    <!-- ğŸ‘‹ SALUDO -->
    <div class="text-center mb-4">
      <h2 class="display-6 fw-bold text-dark">Â¡Hola, {{ user.nombre }}!</h2>
      <p class="text-muted fs-5">Tu progreso te estÃ¡ llevando al siguiente nivel ğŸ’ª</p>

      <div class="d-flex justify-content-center align-items-center mt-2 mb-2">
        <div *ngIf="socio" class="badge bg-fitrank-subtle text-fitrank fs-6">
          Nivel Actual: <strong>{{ socio.nivel }}</strong>
        </div>
      </div>

      <!-- ğŸ‹ï¸â€â™‚ï¸ PANEL PRINCIPAL -->
      <div class="row g-4 mb-5 justify-content-center align-items-stretch">
        <!-- Entrenamiento del dÃ­a -->
        <div class="col-lg-7 col-md-8">
          <div class="card overflow-hidden shadow-sm border-0 h-100">
            <div class="row g-0 h-100">
              <div class="col-md-6"
                   style="
                background-image: url('https://images.unsplash.com/photo-1571902943202-507ec2618e8f?auto=format&fit=crop&w=800&q=80');
                background-size: cover;
                background-position: center;
                height: 100%;
              "></div>
              <div class="col-md-6 p-4 d-flex flex-column justify-content-center">
                <h4 class="fw-bold mb-2 text-fitrank">Entrenamiento del dÃ­a</h4>
                <p class="text-muted mb-3">Rutina actual: <strong>Full Body Power</strong></p>
                <button class="btn btn-fitrank d-flex align-items-center gap-2 w-100"
                        (click)="navegarA('/rutina/mis-rutinas')">
                  <span class="material-symbols-outlined">play_arrow</span>
                  Iniciar entrenamiento
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Progreso semanal -->
        <div class="col-lg-4 col-md-6">
          <div class="card p-4 text-center shadow-sm border-0 h-100">
            <h6 class="section-title mb-3">Progreso semanal</h6>
            <div class="progress mb-2" style="height: 12px">
              <div class="progress-bar bg-fitrank" style="width: 70%"></div>
            </div>
            <p class="text-muted small mb-1">Completaste <strong>7/10 objetivos</strong></p>
            <span class="badge bg-fitrank-subtle text-fitrank">+5% vs semana pasada</span>
          </div>
        </div>
      </div>

      <!-- âš¡ ACCIONES RÃPIDAS -->
      <section class="mb-5">
        <div class="row g-3 justify-content-center">
          <div class="col-12 col-md-3">
            <button class="quick-action w-100" (click)="navegarA('/ranking')">
              <span class="material-symbols-outlined me-2">emoji_events</span>
              Ranking
            </button>
          </div>
          <div class="col-12 col-md-3">
            <button class="quick-action w-100" (click)="navegarA('/rutina/crear/')">
              <span class="material-symbols-outlined me-2">add_circle</span>
              Crear rutina
            </button>
          </div>
          <div class="col-12 col-md-3">
            <button class="quick-action w-100" (click)="navegarA('/rutina/mis-rutinas')">
              <span class="material-symbols-outlined me-2">list_alt</span>
              Mis rutinas
            </button>
          </div>
          <div class="col-12 col-md-3">
            <button class="quick-action w-100" (click)="navegarA('/socios/1/gimnasios/1/logros')">
              <span class="material-symbols-outlined me-2">military_tech</span>
              Mis logros
            </button>
          </div>
        </div>
      </section>
      <!-- ğŸ”¹ Tarjeta de retenciÃ³n (solo visible si hay notificaciÃ³n) -->
      <div *ngIf="mostrarRetencion" class="card-retencion text-center">
        <h5 class="text-fitrank fw-bold mb-3">ğŸ’ª Â¡Te extraÃ±amos en FitRank!</h5>
        <p>Hace algunos dÃ­as que no registramos tus entrenamientos. Â¿QuerÃ©s retomar con energÃ­a?</p>

        <div class="d-flex flex-column gap-2 mt-3">
          <button class="btn btn-primary w-100" (click)="responder('cambiar-rutina')">
            ğŸ”„ Cambiar rutina
          </button>
          <button class="btn btn-success w-100" (click)="responder('estoy-bien')">
            âœ… Estoy bien
          </button>
          <button class="btn btn-warning w-100" (click)="responder('contactar-profesor')">
            Que me contacte un profesor
          </button>
        </div>
      </div>

      <!-- ğŸ”¹ Tarjeta de retenciÃ³n (solo visible si hay notificaciÃ³n) -->
      <div *ngIf="mostrarRetencion" class="card-retencion text-center">
        <h5 class="text-fitrank fw-bold mb-3">Â¡Te extraÃ±amos en FitRank!</h5>
        <p>
          Hace algunos dÃ­as que no registramos tus entrenamientos.<br />
          Â¿QuerÃ©s retomar con energÃ­a?
        </p>
      </div>

      <!-- ğŸ”” NOTIFICACIONES (Globales + Personales) -->
      <section class="mb-5">
        <div class="container">
          <div class="row g-4 justify-content-center align-items-start">
            <!-- ğŸŒ Globales -->
            <div class="col-md-6 col-lg-5">
              <h3 class="fw-bold text-dark mb-4 text-center">Notificaciones Globales</h3>
              <div class="list-group shadow-sm rounded-4">
                <div class="list-group-item d-flex align-items-start bg-light border-0 border-bottom">
                  <span class="material-symbols-outlined me-3 mt-1">campaign</span>
                  <div>
                    <p class="fw-semibold mb-1">Nueva clase disponible</p>
                    <small class="text-muted">Yoga funcional se ha aÃ±adido a la grilla semanal.</small>
                  </div>
                </div>

                <div class="list-group-item d-flex align-items-start bg-light border-0 border-bottom">
                  <span class="material-symbols-outlined me-3 mt-1">event</span>
                  <div>
                    <p class="fw-semibold mb-1">Competencia mensual</p>
                    <small class="text-muted">Inscribite al desafÃ­o â€œStrong Weekâ€ antes del viernes.</small>
                  </div>
                </div>

                <div class="list-group-item d-flex align-items-start bg-light border-0">
                  <span class="material-symbols-outlined me-3 mt-1">local_fire_department</span>
                  <div>
                    <p class="fw-semibold mb-1">Nuevos rÃ©cords en el gimnasio</p>
                    <small class="text-muted">Se superÃ³ la marca de 10.000 entrenamientos este mes ğŸ’ª</small>
                  </div>
                </div>
              </div>

              <div class="text-center mt-4">
                <button class="btn btn-fitrank px-4 py-2"
                        (click)="navegarA('/notificaciones-globales')">
                  Ver todas
                </button>
              </div>
            </div>

            <!-- ğŸ§ Personales -->
            <div class="col-md-6 col-lg-5">
              <h3 class="fw-bold text-dark mb-4 text-center">Notificaciones Personales</h3>
              <div class="list-group shadow-sm rounded-4">
                <div class="list-group-item d-flex align-items-start bg-light border-0 border-bottom">
                  <span class="material-symbols-outlined me-3 mt-1">celebration</span>
                  <div>
                    <p class="fw-semibold mb-1">Â¡Nuevo logro desbloqueado!</p>
                    <small class="text-muted">Has conseguido el logro â€œGuerrero del Fin de Semanaâ€.</small>
                  </div>
                </div>

                <div class="list-group-item d-flex align-items-start bg-light border-0 border-bottom">
                  <span class="material-symbols-outlined me-3 mt-1">calendar_month</span>
                  <div>
                    <p class="fw-semibold mb-1">Recordatorio de Clase</p>
                    <small class="text-muted">Tu clase de Spinning es hoy a las 18:00.</small>
                  </div>
                </div>

                <div class="list-group-item d-flex align-items-start bg-light border-0">
                  <span class="material-symbols-outlined text-secondary me-3 mt-1">task_alt</span>
                  <div>
                    <p class="fw-semibold mb-1">Rutina Actualizada</p>
                    <small class="text-muted">Tu entrenador ha actualizado tu rutina de piernas.</small>
                  </div>
                </div>
              </div>

              <div class="text-center mt-4">
                <button class="btn btn-fitrank px-4 py-2"
                        (click)="navegarA('/notificaciones-personales')">
                  Ver todas
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ğŸšª LOGOUT -->
      <div class="text-center mt-5">
        <button class="btn btn-outline-fitrank px-4 py-2" (click)="logout()">
          <span class="material-symbols-outlined me-2">logout</span> Cerrar sesiÃ³n
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ğŸ§‘â€ğŸ« PANEL DEL PROFESOR -->
<div *ngIf="esProfesor" class="container py-5 text-center">
  <app-header-profesor [user]="user"></app-header-profesor><br />

    <h2 class="display-6 fw-bold text-dark">Â¡Profe, {{ user.nombre }}!</h2>


   
    <p class="text-muted mb-5">GestionÃ¡ tus rutinas, alumnos y notificaciones ğŸ‘‡</p>

    <div class="row g-4 justify-content-center">
      <div class="col-12 col-md-4">
        <button class="quick-action w-100" (click)="navegarA('/profesor/rutinas')">
          <span class="material-symbols-outlined me-2">list_alt</span>
          Ver mis rutinas creadas
        </button>
      </div>
      <div class="row g-4 justify-content-center">
        <div class="col-12 col-md-4">
          <button class="quick-action w-100" (click)="navegarA('solicitudes-profesor')">
            <span class="material-symbols-outlined me-2">list_alt</span>
            Panel de Solictudes Generales
          </button>
        </div>

        <div class="col-12 col-md-4">
          <button class="quick-action w-100" (click)="navegarA('/profesor/alumnos')">
            <span class="material-symbols-outlined me-2">group</span>
            Ver mis alumnos
          </button>
        </div>

        <div class="col-12 col-md-4">
          <button class="quick-action w-100" (click)="navegarA('/notificaciones-profesor')">
            <span class="material-symbols-outlined me-2">notifications_active</span>
            Notificaciones
          </button>
        </div>
      </div>
    </div>
