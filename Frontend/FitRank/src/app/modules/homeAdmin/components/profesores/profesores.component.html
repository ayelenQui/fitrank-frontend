<div class="container-fluid py-4 text-light">
  <h2 class="text-fitrank fw-bold mb-4">üë®‚Äçüè´ Gesti√≥n de Profesores</h2>

  <!-- üîç Filtro -->
  <div class="mb-3 d-flex align-items-center gap-2">
    <input type="text"
           class="form-control bg-dark text-light border-0"
           placeholder="Buscar profesor por nombre o apellido..."
           [(ngModel)]="filtro"
           (input)="filtrarProfesores()" />
    <button class="btn btn-fitrank" (click)="abrirFormulario()">‚ûï Agregar Profesor</button>
  </div>

  <!-- üìã Tabla de profesores -->
  <div class="table-responsive bg-dark p-3 rounded shadow-sm">
    <table class="table table-dark table-hover align-middle mb-0">
      <thead>
        <tr class="text-fitrank">
          <th>Nombre</th>
          <th>Email</th>
          <th>Tel√©fono</th>
          <th>Matr√≠cula</th>
          <th>Sueldo</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let profesor of profesoresFiltrados">
          <td>{{ profesor.nombre }} {{ profesor.apellido }}</td>
          <td>{{ profesor.email }}</td>
          <td>{{ profesor.telefono || '-' }}</td>
          <td>{{ profesor.matricula }}</td>
          <td>${{ profesor.sueldo }}</td>
          <td>
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-sm btn-outline-info" (click)="verRutinas(profesor)">
                üèãÔ∏è Ver Rutinas
              </button>

              <button class="btn btn-sm btn-outline-light" (click)="editarProfesor(profesor)">
                ‚úèÔ∏è Editar
              </button>

              <button class="btn btn-sm btn-outline-danger" (click)="eliminarProfesor(profesor.id)">
                üóëÔ∏è Eliminar
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="profesoresFiltrados.length === 0" class="text-center mt-3 text-muted">
      No se encontraron profesores.
    </div>
  </div>

  <!-- ü™ü Formulario flotante -->
  <div *ngIf="mostrarFormulario" class="card mt-4 p-4 shadow-lg border-0 bg-dark text-white">
    <h4 class="mb-3 text-fitrank">
      {{ profesorSeleccionado ? 'Editar Profesor' : 'Agregar Profesor' }}
    </h4>

    <form [formGroup]="formProfesor" (ngSubmit)="guardarProfesor()" novalidate>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Nombre</label>
          <input type="text" class="form-control bg-secondary text-white" formControlName="nombre" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Apellido</label>
          <input type="text" class="form-control bg-secondary text-white" formControlName="apellido" />
        </div>

        <div class="col-md-6">
          <label class="form-label">DNI</label>
          <input type="number" class="form-control bg-secondary text-white" formControlName="dni" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" class="form-control bg-secondary text-white" formControlName="email" />
        </div>

        <div class="col-md-6">
          <label class="form-label">Tel√©fono</label>
          <input type="text" class="form-control bg-secondary text-white" formControlName="telefono" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Sexo</label>
          <select class="form-select bg-secondary text-white" formControlName="sexo">
            <option value="">Seleccione...</option>
            <option value="Femenino">Femenino</option>
            <option value="Masculino">Masculino</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Fecha de Nacimiento</label>
          <input type="date" class="form-control bg-secondary text-white" formControlName="fechaNacimiento" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Matr√≠cula</label>
          <input type="text" class="form-control bg-secondary text-white" formControlName="matricula" />
        </div>

        <div class="col-md-6">
          <label class="form-label">Sueldo</label>
          <input type="number" class="form-control bg-secondary text-white" formControlName="sueldo" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Contrase√±a</label>
          <input type="password"
                 placeholder="********"
                 class="form-control bg-secondary text-white"
                 formControlName="password" />
        </div>
      </div>

      <div class="d-flex justify-content-end gap-3 mt-4">
        <button type="button" class="btn btn-outline-light" (click)="cancelarFormulario()">Cancelar</button>
        <button type="submit" class="btn btn-fitrank">
          {{ profesorSeleccionado ? 'Actualizar' : 'Guardar' }}
        </button>
      </div>
    </form>
  </div>
</div>
