<div class="maquina-container" *ngIf="!loading && maquina">

  <div class="header">

    <h2 class="titulo">{{ maquina.nombre }}</h2>

    <div class="video-wrapper" *ngIf="maquina.urlImagen">
      <iframe 
        width="100%"
        height="280"
        [src]="sanitizer.bypassSecurityTrustResourceUrl(convertirAEmbed(maquina.urlImagen))"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>

  </div>

  <h3 class="subtitulo">Ejercicios para esta mÃ¡quina</h3>

  <div class="ejercicios-list" *ngIf="maquina.ejercicios?.length; else sinEj">
    <div class="ejercicio-card" *ngFor="let e of maquina.ejercicios">

      <img [src]="e.urlImagen" class="ej-img">

      <div class="ej-info">
        <h4>{{ e.nombre }}</h4>

        <p class="desc">{{ e.descripcion }}</p>

        <p class="duracion">
          â± <strong>{{ e.duracionEstimada || 'â€“' }}</strong> seg
        </p>

        <p class="grupo">
          ğŸ’ª <strong>{{ e.grupoMuscular }}</strong>
        </p>

        <div *ngIf="e.urlVideo" class="video-ejercicio">
          <iframe
            [src]="sanitizer.bypassSecurityTrustResourceUrl(embedVideo(e.urlVideo))"
            frameborder="0"
            allowfullscreen>
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <ng-template #sinEj>
    <p class="no-ejercicios">
      No hay ejercicios cargados para esta mÃ¡quina.
    </p>
  </ng-template>

</div>

<div class="loading" *ngIf="loading">
  Cargando informaciÃ³n...
</div>
