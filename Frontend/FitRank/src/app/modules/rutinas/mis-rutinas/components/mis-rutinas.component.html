<div class="vista-mis-rutinas">
  <!-- üü£ HERO SUPERIOR -->
  <section class="hero-fitrank d-flex align-items-center justify-content-between">
    <div class="hero-text">
      <h1 class="titulo hero-title">MIS RUTINAS</h1>
      <p class="hero-subtitle">
        Planific√°, med√≠ tu rendimiento y superate cada semana con FitRank.
      </p>

      <!-- üìä Panel de estad√≠sticas -->
      <div class="stats-container d-flex flex-wrap justify-content-center gap-3 mt-4">

        <!-- üîπ Total -->
        <button class="stat-card">
          <span class="stat-number">{{ totalRutinas }}</span>
          <span class="stat-label">Rutinas creadas</span>
        </button>

        <!-- üîπ Activas -->
        <button class="stat-card active">
          <span class="stat-number">{{ rutinasActivas }}</span>
          <span class="stat-label">Activas</span>
        </button>

        <!-- üîπ Inactivas -->
        <button class="stat-card inactive">
          <span class="stat-number">{{ rutinasInactivas }}</span>
          <span class="stat-label">Inactivas</span>
        </button>

        <!-- ‚≠ê Bot√≥n de valoraci√≥n -->
        <button class="stat-card valoracion">
          <span class="material-symbols-outlined mb-1">star</span>
          <span class="stat-label">Valorar tu rutina</span>
        </button>
      </div>
      </div>

      <!-- üì± Imagen con fondo -->
      <div class="hero-image position-relative">
        <div class="hero-bg-estatico"></div>
        <img src="assets/img/mis-rutinas/blanco.jpg" alt="App FitRank" class="hero-phone" />
      </div>
</section>

  <!-- üü£ CONTENIDO PRINCIPAL -->
  <div class="contenido-mis-rutinas">
    <!-- üìä Panel superior de progreso -->
    <div class="panel-progreso d-flex justify-content-around text-center mb-3">
      <div>
        <p class="text-muted small mb-1">Progreso semanal</p>
        <div class="progress" style="height: 8px; width: 180px;">
          <div class="progress-bar bg-fitrank" [style.width.%]="65"></div>
        </div>
        <p class="text-muted small mt-1">65% completado</p>
      </div>
      <div>
        <p class="text-muted small mb-1">Puntos FitRank</p>
        <h5 class="text-fitrank mb-0 fw-bold">1240</h5>
      </div>
      <div>
        <p class="text-muted small mb-1">Ranking semanal</p>
        <h5 class="text-success mb-0 fw-bold">#3</h5>
      </div>
    </div>

    <!-- üìã Listado de Rutinas -->
    <div *ngIf="!loading && rutinas.length > 0" class="row g-3 justify-content-center">
      <div *ngFor="let r of rutinas" class="col-12 col-md-4 col-lg-3">
        <div class="rutina-card bg-dark text-white p-3 rounded-4 position-relative">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <h6 class="fw-bold mb-0 text-white">{{ r.nombre }}</h6>
            <span class="badge"
                  [ngClass]="r.activa ? 'bg-success' : 'bg-secondary'">{{ r.activa ? 'Activa' : 'Inactiva' }}</span>
          </div>

          <p class="small text-white mb-2">{{ r.descripcion || 'Sin descripci√≥n' }}</p>
          <p class="text-white small mb-3">
            <span class="material-symbols-outlined align-middle fs-6 me-1 text-white">calendar_today</span>
            {{ r.fechaCreacion | date: 'shortDate' }}
          </p>

          <!-- Acciones principales -->
          <div class="d-flex justify-content-end gap-2">
            <button class="btn btn-light btn-sm">
              <span class="material-symbols-outlined">edit</span>
            </button>
            <button class="btn btn-light btn-sm" (click)="eliminarRutina(r.id)">
              <span class="material-symbols-outlined">delete</span>
            </button>
            <button class="btn btn-fitrank btn-sm fw-bold" (click)="iniciarRutina(r)">
              <span class="material-symbols-outlined fs-6 align-middle me-1">play_arrow</span>
              Iniciar
            </button>
          </div>

          <!-- Iconos sociales -->
          <div class="d-flex justify-content-around align-items-center mt-3 border-top pt-2">
            <button class="icon-btn"><span class="material-symbols-outlined">favorite</span></button>
            <button class="icon-btn"><span class="material-symbols-outlined">bookmark</span></button>
            <button class="icon-btn"><span class="material-symbols-outlined">chat_bubble</span></button>
            <button class="icon-btn"><span class="material-symbols-outlined">share</span></button>
          </div>
        </div>
      </div>
    </div>

    <!-- Sin rutinas -->
    <div *ngIf="!loading && !error && rutinas.length === 0" class="text-center text-muted mt-4">
      <p>A√∫n no ten√©s rutinas creadas.</p>
      <button class="btn btn-fitrank-light" (click)="crearRutina()">‚ûï Crear mi primera rutina</button>
    </div>
  </div>
</div>

