<div class="container py-5">
  <!-- ğŸ‹ï¸â€â™€ï¸ TÃ­tulo -->
  <h2 class="fw-bold text-center mb-4 text-fitrank">Mis Rutinas</h2>

  <!-- â³ Loader -->
  <div *ngIf="loading" class="text-center mt-4">
    <div class="spinner-border text-fitrank" role="status"></div>
    <p class="mt-3 text-muted">Cargando tus rutinas...</p>
  </div>

  <!-- âš ï¸ Error -->
  <div *ngIf="error" class="alert alert-danger text-center mt-3 shadow-sm">
    {{ error }}
  </div>

  <!-- âœ… Listado de rutinas -->
  <div *ngIf="!loading && rutinas.length > 0">
    <div *ngFor="let r of rutinas" class="card rutina-item shadow-sm border-0 mb-4 rounded-4 overflow-hidden">
      <div class="card-header d-flex justify-content-between align-items-center bg-fitrank text-white py-3 px-4">
        <h5 class="mb-0 fw-bold">{{ r.rutina.nombre }}</h5>
        <button class="btn btn-light btn-sm fw-semibold text-fitrank d-flex align-items-center gap-1 px-3"
                (click)="iniciarRutina(r.rutina)">
          <span class="material-symbols-outlined fs-5">play_arrow</span>
          Iniciar
        </button>
      </div>

      <div class="card-body px-4 py-3 bg-white">
        <ul class="list-group list-group-flush">
          <li *ngFor="let e of r.ejercicios"
              class="list-group-item border-0 d-flex justify-content-between align-items-center px-0 py-2">
            <div>
              <strong class="text-fitrank">#{{ e.orden }}</strong>
              <span class="ms-2">{{ e.nombre }}</span>
            </div>
            <span class="badge bg-fitrank-subtle text-fitrank">SesiÃ³n {{ e.sesion }}</span>
          </li>
        </ul>
      </div>

      
    </div>
  </div>

  <!-- ğŸš« Sin rutinas -->
  <div *ngIf="!loading && rutinas.length === 0" class="text-center text-muted mt-5">
    <span class="material-symbols-outlined fs-1 d-block mb-2 text-fitrank">hourglass_empty</span>
    <p class="fs-5">AÃºn no tenÃ©s rutinas creadas.</p>
    <p>Â¡CreÃ¡ tu primera rutina y empezÃ¡ a progresar! ğŸ’ª</p>
  </div>

  <!-- â• Crear nueva -->
  <div class="text-center mt-5">
    <button class="btn btn-fitrank px-4 py-2 d-flex align-items-center mx-auto gap-2"
            (click)="crearRutina()">
      <span class="material-symbols-outlined">add_circle</span>
      Crear nueva rutina
    </button>
  </div>
</div>
