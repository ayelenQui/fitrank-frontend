
<header class="header-socio">



  <div class="header__logo">
    <img src="assets/img/logo/logo-negro-lila.svg"
         alt="FitRank Logo"
         class="header__imagologo"
         (click)="irAlHome()" />
  </div>


  <nav class="header__nav">
 
    <button class="header__navboton btn-secondary" (click)="navegarA('/ranking')">Ranking</button>
    <button class="header__navboton btn-secondary" (click)="navegarA('/rutina/mis-rutinas')">Mis Rutinas</button>
    <button class="header__navboton btn-secondary" (click)="navegarA('/rutina/crear/')">Crear Rutina</button>
  </nav>


  <div class="header__perfil">
    <div class="noti-icon" (click)="abrirNotificaciones()">

      <i class="bi bi-chat-dots" [class.activa]="hayNotificacionesNuevas"></i>
      <span class="badge" *ngIf="notificacionesNuevas > 0">
        {{ notificacionesNuevas }}
      </span>
    </div>

    <img [src]="user?.fotoPerfil ? user.fotoPerfil : 'assets/img/perfil/user-sin-foto.png'"
         alt="Perfil"
         class="header__imagen" />


    <button class="header__logout btn-secondary" (click)="logout()">
      <span class="material-symbols-outlined">logout</span>
      Cerrar sesiÃ³n
    </button>
  </div>
</header>



<!-- ðŸ”” POPUP DE NOTIFICACIONES -->
<div class="popup-notificaciones" *ngIf="mostrarPopup">
  <div class="popup-header">
    <h4>Notificaciones</h4>
    <button class="cerrar btn-secondary" (click)="mostrarPopup = false">âœ–</button>
  </div>

  <div class="popup-body">
    <div *ngIf="notificaciones.length === 0" class="sin-noti">
      No tenÃ©s notificaciones aÃºn ðŸ˜Š
    </div>

    <div class="noti-item" *ngFor="let n of notificaciones">
      <div class="noti-titulo">{{ n.titulo }}</div>
      <div class="noti-mensaje">{{ n.mensaje }}</div>
      <div class="noti-fecha">{{ n.fechaCreacion | date:'dd/MM HH:mm' }}</div>
    </div>
  </div>
</div>
