<header class="header-socio">


  <button class="fit-sb-toggle d-md-none" (click)="toggleSidebar()" aria-label="Abrir men√∫">‚ò∞</button>


  <div class="header__logo">
    <img src="assets/img/logo/logo-negro-lila.svg" alt="FitRank Logo" class="header__imagologo" (click)="irAlHome()" /><br />

    <br />
    <!-- <span class="titulo">Socio</span> -->
  </div>

  <nav class="header__nav">
    <!--<button class="header__navboton" (click)="navegarA('/torneo/lista-torneo')">Torneos</button>-->
    <button class="header__navboton" (click)="navegarA('/ranking')">Ranking</button>
    <button class="header__navboton" (click)="navegarA('/rutina/mis-rutinas')">Mis Rutinas</button>
    <button class="header__navboton" (click)="navegarA('/rutina/crear/')">Crear Rutina</button>
  </nav>


  <div class="header__perfil">
    <div class="noti-icon" (click)="abrirNotificaciones()">
      <i class="bi bi-bell-fill" [class.activa]="hayNotificacionesNuevas"></i>
      <span class="badge" *ngIf="notificacionesNuevas > 0">
        {{ notificacionesNuevas }}
      </span>
    </div>

    <img [src]="user?.fotoPerfil ? user.fotoPerfil : 'assets/img/perfil/user-sin-foto.png'"
         alt="Perfil"
         class="header__imagen" />
    <span class="header__nombre">{{ user?.nombre }}</span>

    <button class="header__logout" (click)="logout()">
      <span class="material-symbols-outlined">logout</span>
      Cerrar sesi√≥n
    </button>
  </div>
</header>

<!-- üîπ Men√∫ m√≥vil -->
<nav class="nav-movil" [class.active]="sidebarOpen">
  <button (click)="navegarA('/ranking')">Ranking</button>
  <button (click)="navegarA('/rutina/mis-rutinas')"> Mis Rutinas</button>
  <button (click)="navegarA('/rutina/crear')"> Crear Rutina</button>
  <button (click)="logout()"> Cerrar sesi√≥n</button>
</nav>

<!-- üîî POPUP DE NOTIFICACIONES -->
<div class="popup-notificaciones" *ngIf="mostrarPopup">
  <div class="popup-header">
    <h4>Notificaciones</h4>
    <button class="cerrar" (click)="mostrarPopup = false">‚úñ</button>
  </div>

  <div class="popup-body">
    <div *ngIf="notificaciones.length === 0" class="sin-noti">
      No ten√©s notificaciones a√∫n üòä
    </div>

    <div class="noti-item" *ngFor="let n of notificaciones">
      <div class="noti-titulo">{{ n.titulo }}</div>
      <div class="noti-mensaje">{{ n.mensaje }}</div>
      <div class="noti-fecha">{{ n.fechaCreacion | date:'dd/MM HH:mm' }}</div>
    </div>
  </div>
</div>
